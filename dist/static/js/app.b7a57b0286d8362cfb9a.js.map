{"version":3,"sources":["webpack:///static/js/app.b7a57b0286d8362cfb9a.js","webpack:///./src/main.js","webpack:///App.vue","webpack:///Board.vue","webpack:///./src/App.vue","webpack:///./src/components/Board.vue","webpack:///./src/components/Board.vue?14f4","webpack:///./src/App.vue?a626"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","el","template","components","App","Object","defineProperty","value","_Board","_Board2","name","Board","methods","drawCanvas","ev","canvas","document","querySelector","context","getContext","startX","startY","endX","endY","offsetX","offsetY","handleMouseover","e","beginPath","moveTo","lineTo","lineWidth","strokeStyle","stroke","closePath","handleMouseleaveOrMouseUp","removeEventListener","addEventListener","getDefaultData","Array","fill","map","_stringify","_stringify2","DefaultData","data","writing","result","handleMousedown","drawline","i","self","setData","_i","XLen","Math","abs","YLen","rect","XDirect","YDirect","y","j","x","push","_x","_i2","_y","_i3","length","floor","this","$board","currentTarget","parseInt","target","getAttribute","event","className","$set","clear","clearRect","send","window","fetch","method","headers","Content-Type","body","then","res","ok","json","Error","test","catch","error","console","log","message","__vue_exports__","__vue_options__","__vue_template__","options","render","staticRenderFns","_vm","_h","$createElement","staticClass","on","mousedown","$event","_l","boardRow","boardItem","style","background","attrs","row","col","click","_s","id","width","height"],"mappings":"AAAAA,cAAc,EAAE,IAEV,SAASC,EAAQC,EAASC,GAE/B,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GCdxF,GAAAG,GAAAL,EAAA,IDQKM,EAAQL,EAAuBI,GCPpCE,EAAAP,EAAA,GDWKQ,EAAQP,EAAuBM,ECRpC,IAAAD,GAAAF,SACEK,GAAI,OACJC,SAAU,SACVC,YAAcC,kBDiBV,SAASd,EAAQC,EAASC,GAE/B,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GARvFW,OAAOC,eAAef,EAAS,cAC7BgB,OAAO,GEhBV,IAAAC,GAAAhB,EAAA,GFqBKiB,EAAUhB,EAAuBe,EAIrCjB,GAAQK,SACNc,KExBH,MFyBGP,YEtBHQ,MAAAF,EAAAb,SFyBGgB,SACEC,WAAY,SAAoBC,GAC9B,GAAIC,GAASC,SAASC,cExB7B,UFyBWC,EAAUH,EAAOI,WExB5B,MACAC,EAAA,OACAC,EAAA,OACAC,EAAA,OACAC,EAAA,MFyBOH,GAASN,EExBhBU,QFyBOH,EAASP,EExBhBW,OFyBO,IAAIC,GAAkB,SAAyBC,GAC7CL,EAAOK,EExBhBH,QFyBSD,EAAOI,EExBhBF,QFyBSP,EExBTU,YFyBSV,EAAQW,OAAOT,EExBxBC,GFyBSH,EAAQY,OAAOR,EExBxBC,GFyBSL,EAAQa,UExBjB,GFyBSb,EAAQc,YExBjB,OFyBSd,EExBTe,SFyBSf,EExBTgB,YFyBSd,EExBTE,EFyBSD,EExBTE,GF0BWY,EAA4B,QAASA,KACvCpB,EAAOqB,oBAAoB,YExBpCV,GFyBSX,EAAOqB,oBAAoB,UExBpCD,GFyBSpB,EAAOqB,oBAAoB,aExBpCD,GF0BOpB,GAAOsB,iBAAiB,YExB/BX,GFyBOX,EAAOsB,iBAAiB,UExB/BF,GFyBOpB,EAAOsB,iBAAiB,aExB/BF,OF+BM,SAAS7C,EAAQC,EAASC,GAE/B,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GG9ExF,QAAA4C,KHiFG,MAAO,IAAIC,OAAM,IAAIC,KAAK,GAAGC,IAAI,WAC/B,MAAO,IAAIF,OAAM,IAAIC,KG/E1B,KHmECnC,OAAOC,eAAef,EAAS,cAC7BgB,OAAO,GAGT,IAAImC,GAAalD,EAAoB,GAEjCmD,EAAclD,EAAuBiD,GGvE1CE,EACAN,GHgFC/C,GAAQK,SACNiD,KAAM,WACJ,OACEA,KG/EPD,EHgFOE,SG/EP,EHgFOC,OG9EP,KHkFGnC,SACEoC,gBAAiB,SAAyBlC,GAQxC,QAASmC,GAAS3B,EAAMC,GAKtB,GAJKH,GAAWC,IACdD,EGhFXE,EHiFWD,EGhFXE,GHkFaH,GAAUE,EGhFvB,CHiFW,IAAK,GAAI4B,GAAI7B,EAAQ6B,GAAK3B,EAAM2B,GAAK7B,EAASE,GAAO,EAAK,EACxD4B,EAAKC,QAAQ9B,EAAM4B,EGhFhC,EAIA,OH8EW9B,GGhFXE,OHiFWD,EGhFXE,GHkFgB,GAAIF,GAAUE,EGhF9B,CHiFW,IAAK,GAAI8B,GAAKjC,EAAQiC,GAAM/B,EAAM+B,GAAMjC,EAASE,GAAO,EAAK,EAC3D6B,EAAKC,QAAQC,EAAI9B,EGhF9B,EAIA,OH8EWH,GGhFXE,OHiFWD,EGhFXE,GHmFS,GAAI+B,GAAOC,KAAKC,IAAIlC,EAAOF,GGhFpC,EHiFaqC,EAAOF,KAAKC,IAAIjC,EAAOF,GGhFpC,EHiFaqC,KACAC,EAAUvC,EGhFvBE,EHiFasC,EAAUvC,EG/EvBE,CHiFS,IAAI+B,EAAOG,EAET,IAAK,GADDI,GGhFf,EHiFoBC,EAAI,EAAGA,EAAIL,EAAMK,IGhFrC,CHiFa,GAAIC,GAAID,EAAIR,EGhFzBG,CHiFiBM,GAAIF,GACNH,EAAKM,MAAMH,EAAGA,EAAIJ,EGhFjCH,IACAO,IHiFeH,EAAKM,MAAMD,EGhF1BD,KHkFeJ,EAAKM,MAAMD,EGhF1BD,QHqFW,KAAK,GADDG,GGhFf,EHiFoBC,EAAM,EAAGA,EAAMZ,EAAMY,IGhFzC,CHiFa,GAAIC,GAAKD,EAAMT,EGhF5BH,CHiFiBa,GAAKF,GACPP,EAAKM,MAAMC,EAAKX,EAAOG,EGhFtCQ,IACAA,IHiFeP,EAAKM,MAAME,EGhF1BC,KHkFeT,EAAKM,MAAME,EGhF1BC,IHqFShB,EAAKC,QAAQhC,EAAQC,EGhF9B,EHiFS,KAAK,GAAI+C,GAAM,EAAGA,EAAMV,EAAKW,OAAQD,KAC9BV,EAAKU,GAAK,GAAKV,EAAKU,EAAM,GAAG,KAAOV,EAAKU,GAAK,GAAKV,EAAKU,EAAM,GAAG,KAAO,KAC3EjB,EAAKC,QAAQD,EAAKN,KAAKU,KAAKe,MAAMZ,EAAKU,GAAK,KAAOT,EAAU,GAAI,GAAMvC,GAASmC,KAAKe,MAAMZ,EAAKU,GAAK,KAAOR,EAAU,GAAI,GAAMvC,EGhF7I,EHmFS8B,GAAKC,QAAQ9B,EAAMC,EGhF5B,GHiFSH,EGhFTE,EHiFSD,EGhFTE,EHaOgD,KAAKzB,SGhFZ,CHiFO,IAAIK,GG/EXoB,KHiFWC,EAAS1D,EGhFpB2D,cHiFWrD,EAASsD,SAAS5D,EAAG6D,OAAOC,aAAa,OGhFpD,IHiFWvD,EAASqD,SAAS5D,EAAG6D,OAAOC,aAAa,OG/EpD,IH+IWlD,EAAkB,SAAyBmD,GAC7C,GAA8B,cAA1BA,EAAMF,OAAOG,UGhF1B,CHiFW,GAAIxD,GAAOoD,SAASG,EAAMF,OAAOC,aAAa,OGhFzD,IHiFerD,EAAOmD,SAASG,EAAMF,OAAOC,aAAa,OGhFzD,GHiFW3B,GAAS3B,EGhFpBC,KHoFWY,EAA4B,QAASA,KACvCqC,EAAOpC,oBAAoB,YG/EpCV,GHgFS8C,EAAOpC,oBAAoB,UG/EpCD,GHgFSqC,EAAOpC,oBAAoB,aG/EpCD,GHiFOqC,GAAOnC,iBAAiB,YG/E/BX,GHgFO8C,EAAOnC,iBAAiB,UG/E/BF,GHgFOqC,EAAOnC,iBAAiB,aG/E/BF,IHiFKiB,QAAS,SAAiBW,EAAGF,GAC3B,IAAK,GAAIX,GAAIa,EAAI,EAAGb,GAAKa,EAAI,EAAGb,IAC9B,GAAIA,GAAK,GAAKA,EAAI,GAChB,IAAK,GAAIY,GAAID,EAAI,EAAGC,GAAKD,EAAI,EAAGC,IAC1BA,GAAK,GAAKA,EAAI,IAChBS,KAAKQ,KAAKR,KAAK1B,KAAKK,GAAIY,EG9EvC,IHoFKkB,MAAO,WACLT,KAAK1B,KG7EZP,GH8EO,IAAIvB,GAASC,SAASC,cG7E7B,UH8EWC,EAAUH,EAAOI,WG7E5B,KH8EOD,GAAQ+D,UAAU,EAAG,EAAG,IG7E/B,MH+EKC,KAAM,WACJ,GAAI/B,GG7EXoB,IH8EOpB,GAAKJ,OG7EZ,eH8EOoC,OAAOC,MAAM,gBACXC,OG7ET,OH8ESC,SACEC,eG5EX,oBH8ESC,MAAM,EAAI7C,EAAY/C,UACpBiD,KAAMM,EG5EjBN,SAPA4C,KAAA,SAAAC,GHsFS,GAAIA,EAAIC,GACN,MAAOD,GG7ElBE,MH+ES,MAAM,IAAIC,OG7EnB,kCH8EUJ,KAAK,SAAUG,GAChBzC,EAAKJ,OAAS6C,EG7EvBE,OH8EUC,MAAM,SAAUC,GACjBC,QAAQC,IAAI,wDAA0DF,EG7E/EG,eHoFO,CACA,CACA,CAED,SAAS7G,EAAQC,KAMjB,SAASD,EAAQC,KAMjB,SAASD,EAAQC,EAASC,GIhQhC,GAAA4G,GAAAC,CAIA7G,GAAA,GAGA4G,EAAA5G,EAAA,EAGA,IAAA8G,GAAA9G,EAAA,GACA6G,GAAAD,QAEA,gBAAAA,GAAAxG,SACA,kBAAAwG,GAAAxG,UAEAyG,EAAAD,IAAAxG,SAEA,kBAAAyG,KACAA,IAAAE,SAGAF,EAAAG,OAAAF,EAAAE,OACAH,EAAAI,gBAAAH,EAAAG,gBAEAnH,EAAAC,QAAA6G,GJuQM,SAAS9G,EAAQC,EAASC,GKhShC,GAAA4G,GAAAC,CAIA7G,GAAA,GAGA4G,EAAA5G,EAAA,EAGA,IAAA8G,GAAA9G,EAAA,GACA6G,GAAAD,QAEA,gBAAAA,GAAAxG,SACA,kBAAAwG,GAAAxG,UAEAyG,EAAAD,IAAAxG,SAEA,kBAAAyG,KACAA,IAAAE,SAGAF,EAAAG,OAAAF,EAAAE,OACAH,EAAAI,gBAAAH,EAAAG,gBAEAnH,EAAAC,QAAA6G,GLuSM,SAAS9G,EAAQC,GMhUvBD,EAAAC,SAAgBiH,OAAA,WAAmB,GAAAE,GAAAnC,KAAaoC,EAAAD,EAAAE,cAChD,OAAAD,GAAA,OACAE,YAAA,aACGF,EAAA,OACHE,YAAA,QACAC,IACAC,UAAA,SAAAC,GACAN,EAAA1D,gBAAAgE,OAGGN,EAAAO,GAAAP,EAAA,cAAAQ,EAAAhE,GACH,MAAAyD,GAAA,OACAE,YAAA,cACKH,EAAAO,GAAA,WAAAE,EAAArD,GACL,MAAA6C,GAAA,OACAE,YAAA,aACAO,OACAC,WAAA,GAAAX,EAAA7D,KAAAK,GAAAY,GAAA,eAEAwD,OACAC,IAAArE,EACAsE,IAAA1D,aAIG,IAAA6C,EAAA,UACHG,IACAW,MAAAf,EAAA1B,SAEG,cAAA2B,EAAA,UACHG,IACAW,MAAAf,EAAAxB,QAEG,aAAAyB,EAAA,QAAAD,EAAAgB,GAAAhB,EAAA3D,aACF0D,qBNsUK,SAASnH,EAAQC,GOxWvBD,EAAAC,SAAgBiH,OAAA,WAAmB,GAAAE,GAAAnC,KAAaoC,EAAAD,EAAAE,cAChD,OAAAD,GAAA,OACAW,OACAK,GAAA,SAEGhB,EAAA,sCAAAA,EAAA,yBAAAA,EAAA,aAAAA,EAAA,qCAAAA,EAAA,UACHW,OACAM,MAAA,MACAC,OAAA,OAEAf,IACAC,UAAA,SAAAC,GACAN,EAAA7F,WAAAmG,UAICP","file":"static/js/app.b7a57b0286d8362cfb9a.js","sourcesContent":["webpackJsonp([1,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(12);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(8);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t  el: '#app',\n\t  template: '<App/>',\n\t  components: { App: _App2.default }\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Board = __webpack_require__(9);\n\t\n\tvar _Board2 = _interopRequireDefault(_Board);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'app',\n\t  components: {\n\t    Board: _Board2.default\n\t  },\n\t  methods: {\n\t    drawCanvas: function drawCanvas(ev) {\n\t      var canvas = document.querySelector('canvas');\n\t      var context = canvas.getContext('2d');\n\t      var startX = void 0;\n\t      var startY = void 0;\n\t      var endX = void 0;\n\t      var endY = void 0;\n\t      startX = ev.offsetX;\n\t      startY = ev.offsetY;\n\t      var handleMouseover = function handleMouseover(e) {\n\t        endX = e.offsetX;\n\t        endY = e.offsetY;\n\t        context.beginPath();\n\t        context.moveTo(startX, startY);\n\t        context.lineTo(endX, endY);\n\t        context.lineWidth = 15;\n\t        context.strokeStyle = '#000';\n\t        context.stroke();\n\t        context.closePath();\n\t        startX = endX;\n\t        startY = endY;\n\t      };\n\t      var handleMouseleaveOrMouseUp = function handleMouseleaveOrMouseUp() {\n\t        canvas.removeEventListener('mousemove', handleMouseover);\n\t        canvas.removeEventListener('mouseup', handleMouseleaveOrMouseUp);\n\t        canvas.removeEventListener('mouseleave', handleMouseleaveOrMouseUp);\n\t      };\n\t      canvas.addEventListener('mousemove', handleMouseover);\n\t      canvas.addEventListener('mouseup', handleMouseleaveOrMouseUp);\n\t      canvas.addEventListener('mouseleave', handleMouseleaveOrMouseUp);\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(3);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getDefaultData() {\n\t  return new Array(32).fill(0).map(function () {\n\t    return new Array(32).fill(0);\n\t  });\n\t}\n\tvar DefaultData = getDefaultData();\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      data: DefaultData,\n\t      writing: false,\n\t      result: ''\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    handleMousedown: function handleMousedown(ev) {\n\t      this.writing = true;\n\t      var self = this;\n\t\n\t      var $board = ev.currentTarget;\n\t      var startX = parseInt(ev.target.getAttribute('row'), 10);\n\t      var startY = parseInt(ev.target.getAttribute('col'), 10);\n\t\n\t      function drawline(endX, endY) {\n\t        if (!startX || !startY) {\n\t          startX = endX;\n\t          startY = endY;\n\t        }\n\t        if (startX == endX) {\n\t          for (var i = startY; i != endY; i += startY > endY ? -1 : 1) {\n\t            self.setData(endX, i, 1);\n\t          }\n\t          startX = endX;\n\t          startY = endY;\n\t          return;\n\t        } else if (startY == endY) {\n\t          for (var _i = startX; _i != endX; _i += startX > endX ? -1 : 1) {\n\t            self.setData(_i, endY, 1);\n\t          }\n\t          startX = endX;\n\t          startY = endY;\n\t          return;\n\t        }\n\t        var XLen = Math.abs(endX - startX) + 1;\n\t        var YLen = Math.abs(endY - startY) + 1;\n\t        var rect = [];\n\t        var XDirect = startX < endX;\n\t        var YDirect = startY < endY;\n\t\n\t        if (XLen < YLen) {\n\t          var y = 1;\n\t          for (var j = 0; j < YLen; j++) {\n\t            var x = j * XLen / YLen;\n\t            if (x > y) {\n\t              rect.push([y, y * YLen / XLen]);\n\t              y++;\n\t              rect.push([x, j]);\n\t            } else {\n\t              rect.push([x, j]);\n\t            }\n\t          }\n\t        } else {\n\t          var _x = 1;\n\t          for (var _i2 = 0; _i2 < XLen; _i2++) {\n\t            var _y = _i2 * YLen / XLen;\n\t            if (_y > _x) {\n\t              rect.push([_x * XLen / YLen, _x]);\n\t              _x++;\n\t              rect.push([_i2, _y]);\n\t            } else {\n\t              rect.push([_i2, _y]);\n\t            }\n\t          }\n\t        }\n\t\n\t        self.setData(startX, startY, 1);\n\t        for (var _i3 = 1; _i3 < rect.length; _i3++) {\n\t          if ((rect[_i3][0] - rect[_i3 - 1][0]) * (rect[_i3][1] - rect[_i3 - 1][1]) >= 1 / 4) {\n\t            self.setData(self.data[Math.floor(rect[_i3][0]) * (XDirect ? 1 : -1) + startX], Math.floor(rect[_i3][1]) * (YDirect ? 1 : -1) + startY, 1);\n\t          }\n\t        }\n\t        self.setData(endX, endY, 1);\n\t        startX = endX;\n\t        startY = endY;\n\t      }\n\t      var handleMouseover = function handleMouseover(event) {\n\t        if (event.target.className == 'board-item') {\n\t          var endX = parseInt(event.target.getAttribute('row'), 10);\n\t          var endY = parseInt(event.target.getAttribute('col'), 10);\n\t          drawline(endX, endY);\n\t        }\n\t      };\n\t\n\t      var handleMouseleaveOrMouseUp = function handleMouseleaveOrMouseUp() {\n\t        $board.removeEventListener('mousemove', handleMouseover);\n\t        $board.removeEventListener('mouseup', handleMouseleaveOrMouseUp);\n\t        $board.removeEventListener('mouseleave', handleMouseleaveOrMouseUp);\n\t      };\n\t      $board.addEventListener('mousemove', handleMouseover);\n\t      $board.addEventListener('mouseup', handleMouseleaveOrMouseUp);\n\t      $board.addEventListener('mouseleave', handleMouseleaveOrMouseUp);\n\t    },\n\t    setData: function setData(x, y) {\n\t      for (var i = x - 1; i <= x + 1; i++) {\n\t        if (i >= 0 && i < 32) {\n\t          for (var j = y - 1; j <= y + 1; j++) {\n\t            if (j >= 0 && j < 32) {\n\t              this.$set(this.data[i], j, 1);\n\t            }\n\t          }\n\t        }\n\t      }\n\t    },\n\t    clear: function clear() {\n\t      this.data = getDefaultData();\n\t      var canvas = document.querySelector('canvas');\n\t      var context = canvas.getContext('2d');\n\t      context.clearRect(0, 0, 300, 300);\n\t    },\n\t    send: function send() {\n\t      var self = this;\n\t      self.result = 'Reckoning...';\n\t      window.fetch('/recognition', {\n\t        method: 'post',\n\t        headers: {\n\t          'Content-Type': 'application/json'\n\t        },\n\t        body: (0, _stringify2.default)({\n\t          data: self.data\n\t        })\n\t      }).then(function (res) {\n\t        if (res.ok) {\n\t          return res.json();\n\t        }\n\t        throw new Error('Network response was not ok.');\n\t      }).then(function (json) {\n\t        self.result = json.test;\n\t      }).catch(function (error) {\n\t        console.log('There has been a problem with your fetch operation:  ' + error.message);\n\t      });\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(7)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(1)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(11)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(6)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(2)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(10)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _h('div', {\n\t    staticClass: \"clearfix\"\n\t  }, [_h('div', {\n\t    staticClass: \"board\",\n\t    on: {\n\t      \"mousedown\": function($event) {\n\t        _vm.handleMousedown($event)\n\t      }\n\t    }\n\t  }, [_vm._l((_vm.data), function(boardRow, i) {\n\t    return _h('div', {\n\t      staticClass: \"board-row\"\n\t    }, [_vm._l((boardRow), function(boardItem, j) {\n\t      return _h('div', {\n\t        staticClass: \"board-item\",\n\t        style: ({\n\t          background: _vm.data[i][j] == 0 ? '#fff' : '#333'\n\t        }),\n\t        attrs: {\n\t          \"row\": i,\n\t          \"col\": j\n\t        }\n\t      })\n\t    })])\n\t  })]), \" \", _h('button', {\n\t    on: {\n\t      \"click\": _vm.clear\n\t    }\n\t  }, [\"clear\"]), \" \", _h('button', {\n\t    on: {\n\t      \"click\": _vm.send\n\t    }\n\t  }, [\"send\"]), \" \", _h('span', [_vm._s(_vm.result)])])\n\t},staticRenderFns: []}\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n\t  return _h('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_h('h1', [\"HandWriting Recognition\"]), \" \", _h('h2', [\"Simple KNN\"]), \" \", _h('Board'), \" \", _h('h2', [\"canvas to png  todo...\"]), \" \", _h('canvas', {\n\t    attrs: {\n\t      \"width\": \"160\",\n\t      \"height\": \"160\"\n\t    },\n\t    on: {\n\t      \"mousedown\": function($event) {\n\t        _vm.drawCanvas($event)\n\t      }\n\t    }\n\t  })])\n\t},staticRenderFns: []}\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.b7a57b0286d8362cfb9a.js","import Vue from 'vue';\nimport App from './App';\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n<div id=\"app\">\n  <h1>HandWriting Recognition</h1>\n  <h2>Simple KNN</h2>\n  <Board></Board>\n  <h2>canvas to png  todo...</h2>\n  <canvas width=\"160\" height=\"160\" @mousedown=\"drawCanvas($event)\"></canvas>\n</div>\n</template>\n\n<script>\nimport Board from './components/Board';\n\nexport default {\n  name: 'app',\n  components: {\n    Board,\n  },\n  methods: {\n    drawCanvas(ev) {\n      const canvas = document.querySelector('canvas');\n      const context = canvas.getContext('2d');\n      let startX;\n      let startY;\n      let endX;\n      let endY;\n      startX = ev.offsetX;\n      startY = ev.offsetY;\n      const handleMouseover = function(e) {\n        endX = e.offsetX;\n        endY = e.offsetY;\n        context.beginPath()\n        context.moveTo(startX, startY);\n        context.lineTo(endX, endY);\n        context.lineWidth = 15;\n        context.strokeStyle = '#000';\n        context.stroke();\n        context.closePath()\n        startX = endX;\n        startY = endY;\n      }\n      const handleMouseleaveOrMouseUp = () => {\n        canvas.removeEventListener('mousemove', handleMouseover);\n        canvas.removeEventListener('mouseup', handleMouseleaveOrMouseUp);\n        canvas.removeEventListener('mouseleave', handleMouseleaveOrMouseUp);\n      };\n      canvas.addEventListener('mousemove', handleMouseover);\n      canvas.addEventListener('mouseup', handleMouseleaveOrMouseUp);\n      canvas.addEventListener('mouseleave', handleMouseleaveOrMouseUp);\n    },\n  }\n};\n</script>\n\n<style>\nhtml,\nbody {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  font-size: 60px;\n  user-select: none;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  padding-top: 20px;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n}\n\nh1 {\n  font-size: 30px;\n  margin: 0 auto 20px;\n}\n\nh2 {\n  font-size: 25px;\n  margin: 20px 120px;\n  text-align: left;\n}\n\n.clearfix:after {\n  content: ' ';\n  display:table;\n  clear: both;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?0c52d757","<template lang=\"html\">\n    <div  class=\"clearfix\">\n        <div class=\"board\" @mousedown=\"handleMousedown($event)\">\n            <div class=\"board-row\" v-for=\"(boardRow, i) in data\" >\n                <div class=\"board-item\"  v-for=\"(boardItem, j) in boardRow\" :row=\"i\" :col=\"j\" :style=\"{background:data[i][j]==0?'#fff':'#333'}\"></div>\n            </div>\n        </div>\n        <button @click=\"clear\">clear</button>\n        <button @click=\"send\">send</button>\n        <span>{{result}}</span>\n    </div>\n</template>\n\n<script>\nfunction getDefaultData() {\n  return new Array(32).fill(0).map(() => {\n    return new Array(32).fill(0)\n  })\n}\nconst DefaultData = getDefaultData();\nexport default {\n  data() {\n    return {\n      data: DefaultData,\n      writing: false,\n      result: ''\n    }\n  },\n  methods: {\n    handleMousedown(ev) {\n      this.writing = true;\n      const self = this;\n\n      const $board = ev.currentTarget;\n      let startX = parseInt(ev.target.getAttribute('row'), 10);\n      let startY = parseInt(ev.target.getAttribute('col'), 10);\n\n      function drawline(endX, endY) {\n        if (!startX || !startY) {\n          startX = endX;\n          startY = endY;\n        }\n        if (startX == endX) {\n          for (let i = startY; i != endY; i += (startY > endY ? -1 : 1)) {\n            self.setData(endX, i, 1);\n          }\n          startX = endX;\n          startY = endY;\n          return\n        } else if (startY == endY) {\n          for (let i = startX; i != endX; i += (startX > endX ? -1 : 1)) {\n            self.setData(i, endY, 1);\n          }\n          startX = endX;\n          startY = endY;\n          return\n        }\n        const XLen = Math.abs(endX - startX) + 1;\n        const YLen = Math.abs(endY - startY) + 1;\n        const rect = [];\n        const XDirect = startX < endX;\n        const YDirect = startY < endY;\n\n        if (XLen < YLen) {\n          let y = 1;\n          for (let j = 0; j < YLen; j++) {\n            const x = j * XLen / YLen;\n            if (x > y) {\n              rect.push([y, y * YLen / XLen]);\n              y++;\n              rect.push([x, j]);\n            } else {\n              rect.push([x, j]);\n            }\n          }\n        } else {\n          let x = 1;\n          for (let i = 0; i < XLen; i++) {\n            const y = i * YLen / XLen;\n            if (y > x) {\n              rect.push([x * XLen / YLen, x]);\n              x++;\n              rect.push([i, y]);\n            } else {\n              rect.push([i, y]);\n            }\n          }\n        }\n\n        self.setData(startX, startY, 1);\n        for (let i = 1; i < rect.length; i++) {\n          if ((rect[i][0] - rect[i - 1][0]) * (rect[i][1] - rect[i - 1][1]) >= 1 / 4) {\n            self.setData(self.data[Math.floor(rect[i][0]) * (XDirect ? 1 : -1) + startX], Math.floor(rect[i][1]) * (YDirect ? 1 : -1) + startY, 1);\n          }\n        }\n        self.setData(endX, endY, 1);\n        startX = endX;\n        startY = endY;\n      }\n      const handleMouseover = (event) => {\n        if (event.target.className == 'board-item') {\n          const endX = parseInt(event.target.getAttribute('row'), 10);\n          const endY = parseInt(event.target.getAttribute('col'), 10);\n          drawline(endX, endY)\n        }\n      };\n\n\n      const handleMouseleaveOrMouseUp = () => {\n        $board.removeEventListener('mousemove', handleMouseover);\n        $board.removeEventListener('mouseup', handleMouseleaveOrMouseUp);\n        $board.removeEventListener('mouseleave', handleMouseleaveOrMouseUp);\n      };\n      $board.addEventListener('mousemove', handleMouseover);\n      $board.addEventListener('mouseup', handleMouseleaveOrMouseUp);\n      $board.addEventListener('mouseleave', handleMouseleaveOrMouseUp);\n    },\n    setData(x, y) {\n      // 加粗 3倍\n      for (let i = x - 1; i <= x + 1; i++) {\n        if (i >= 0 && i < 32) {\n          for (let j = y - 1; j <= y + 1; j++) {\n            if (j >= 0 && j < 32) {\n              this.$set(this.data[i], j, 1);\n            }\n          }\n        }\n      }\n    },\n\n    clear() {\n      this.data = getDefaultData();\n      const canvas = document.querySelector('canvas');\n      const context = canvas.getContext('2d');\n      context.clearRect(0, 0, 300, 300);\n    },\n    send() {\n      const self = this;\n      self.result = 'Reckoning...'\n      window.fetch('/recognition', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          data: self.data\n        })\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        throw new Error('Network response was not ok.');\n      }).then((json) => {\n        self.result = json.test\n      }).catch((error) => {\n        console.log(`There has been a problem with your fetch operation:  ${error.message}`);\n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"css\">\n    .board{\n        border:1px solid #eee;\n        width: 160px;\n        margin: 0px 0 20px 120px;\n        float: left;\n    }\n    .board-row{\n        font-size: 0;\n        width: 160px;\n    }\n    .board-item{\n        display: inline-block;\n        width: 5px;\n        height: 5px;\n        background: #fff;\n    }\n    canvas{\n        border:1px solid #eee;\n        width: 160px;\n        height: 160px;\n        margin: 50px 0 20px 120px;\n        float: left;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Board.vue?eb9a861e","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-bc95d36e!vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./App.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-bc95d36e!vue-loader/lib/selector?type=template&index=0!./App.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 8\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-b6dcf316!vue-loader/lib/selector?type=styles&index=0!./Board.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Board.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-b6dcf316!vue-loader/lib/selector?type=template&index=0!./Board.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Board.vue\n// module id = 9\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _h('div', {\n    staticClass: \"clearfix\"\n  }, [_h('div', {\n    staticClass: \"board\",\n    on: {\n      \"mousedown\": function($event) {\n        _vm.handleMousedown($event)\n      }\n    }\n  }, [_vm._l((_vm.data), function(boardRow, i) {\n    return _h('div', {\n      staticClass: \"board-row\"\n    }, [_vm._l((boardRow), function(boardItem, j) {\n      return _h('div', {\n        staticClass: \"board-item\",\n        style: ({\n          background: _vm.data[i][j] == 0 ? '#fff' : '#333'\n        }),\n        attrs: {\n          \"row\": i,\n          \"col\": j\n        }\n      })\n    })])\n  })]), \" \", _h('button', {\n    on: {\n      \"click\": _vm.clear\n    }\n  }, [\"clear\"]), \" \", _h('button', {\n    on: {\n      \"click\": _vm.send\n    }\n  }, [\"send\"]), \" \", _h('span', [_vm._s(_vm.result)])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-b6dcf316!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Board.vue\n// module id = 10\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;\n  return _h('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_h('h1', [\"HandWriting Recognition\"]), \" \", _h('h2', [\"Simple KNN\"]), \" \", _h('Board'), \" \", _h('h2', [\"canvas to png  todo...\"]), \" \", _h('canvas', {\n    attrs: {\n      \"width\": \"160\",\n      \"height\": \"160\"\n    },\n    on: {\n      \"mousedown\": function($event) {\n        _vm.drawCanvas($event)\n      }\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-bc95d36e!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 11\n// module chunks = 1"],"sourceRoot":""}